<div class="bank-card">
    <div class="bank-card-inner">
        <form>
            <div class="bank-card-front">
                <br>
                <div class="line_card_title" id="card-title">
                    <h2>Bank Card</h1>
                        <img src="./image-page-2/master_card.png" id="master_card" class="img-fluid"
                            style="height: 40px; margin-left:10px; display: none;" alt="">
                        <img src="./image-page-2/visa_card.png" id="visa_card" class="img-fluid"
                            style="height: 30px; display: none;" alt="">
                        <img src="./image-page-2/diners_card.png" id="diners_card" class="img-fluid"
                            style="height: 50px; display: none;" alt="">
                        <img src="./image-page-2/maestro_card.png" id="maestro_card" class="img-fluid"
                            style="height: 40px; display: none;" alt="">
                        <img src="./image-page-2/network_card.png" id="network_card" class="img-fluid"
                            style="height: 50px; display: none;" alt="">
                        <img src="./image-page-2/amex_card.png" id="amex_card" class="img-fluid"
                            style="height: 50px; display: none;" alt="">
                </div>

                <br>
                <div class="line_card">
                    <div class="form-group-card" style="width: 250px">
                        <label for="number_card">Num√©ro de la carte</label>
                        <input type="text" id="input_number_card" class="form-control" placeholder="0000 0000 0000 0000"
                            minlength="19" maxlength="19" oninput="this.value = this.value.replace(/[^0-9.\s]/g, '');"
                            required>
                    </div>
                    <div class="form-group-card" style="width: 100px">
                        <label for="expire_card">Expire</label>
                        <input type="text" id="input_expire_card" class="form-control" placeholder="MM YY" minlength="5"
                            maxlength="5" oninput="this.value = this.value.replace(/[^0-9.\s]/g, '');" required>
                    </div>
                </div>
                <div class="line_card" id="line_card_end">
                    <div class="form-group-card-end" style="width: 200px">
                        <label for="name_card">Titulaire de la carte</label>
                        <input type="text" class="form-control" onkeyup="this.value=this.value.toUpperCase()"
                            onkeypress="return (event.charCode > 64 && 
                            event.charCode < 91) || (event.charCode > 96 && event.charCode < 123) || (event.charCode === 32) "
                            placeholder="UTILISATEUR" required>
                    </div>
                    <div id="flip_card1" title="Vers le dos de la carte"><i class="fa fa-rotate-right"></i>
                    </div>
                </div>
            </div>
            <div class="bank-card-back">
                <br>
                <br>
                <div id="band"></div>
                <br>
                <br>
                <div class="form-group-card-back">
                    <label for="name_card">CVC</label>
                    <input type="text" class="form-control" placeholder="000" minlength="3" maxlength="3"
                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" required>
                </div>
                <br>
                <div id="flip_card2" title="Vers la face de la carte"><i class="fas fa-undo"></i>
                </div>
            </div>
        </form>
    </div>
</div>
<script>
    let flip_card1 = document.getElementById('flip_card1');
    let flip_card2 = document.getElementById('flip_card2');
    let bank_card_inner = document.getElementsByClassName('bank-card-inner')[0];
    flip_card1.addEventListener("click", () => {
        bank_card_inner.style.transform = "rotateY(180deg)";
    });
    flip_card2.addEventListener("click", () => {
        bank_card_inner.style.transform = "rotateY(0deg)";
    });
</script>
<script>
    let imgs = document.getElementById('card-title').getElementsByTagName('img');
    let input_number_card = document.getElementById('input_number_card');
    let numbers_master = ['22', '23', '24', '25', '26', '27', '51', '52', '53', '54', '55'];
    let numbers_visa = ['40', '41', '42', '43', '44', '45', '46', '47', '48', '49'];
    let numbers_diners = ['36', '38'];
    let numbers_maestro = ['56', '58', '67'];
    let numbers_network = ['65'];
    let numbers_express = ['34', '37'];

    function getNoneOthers(number) {
        for (let i = 0; i < imgs.length; i++) {
            if (i !== number) {
                imgs[i].style.display = "none";
            }
        }
    }

    input_number_card.addEventListener('keyup', (event) => {
        if (numbers_master.includes(input_number_card.value)) {
            imgs[0].style.display = "block";
            getNoneOthers(0);
        } else if (numbers_visa.includes(input_number_card.value)) {
            imgs[1].style.display = "block";
            getNoneOthers(1);
        } else if (numbers_diners.includes(input_number_card.value)) {
            imgs[2].style.display = "block";
            getNoneOthers(2);
        } else if (numbers_maestro.includes(input_number_card.value)) {
            imgs[3].style.display = "block";
            getNoneOthers(3);
        } else if (numbers_network.includes(input_number_card.value)) {
            imgs[4].style.display = "block";
            getNoneOthers(4);
        } else if (numbers_express.includes(input_number_card.value)) {
            imgs[5].style.display = "block";
            getNoneOthers(5);
        }
    });
</script>
<script>
    var counter1 = 0;
    var counter2 = 0;
    function addSeparator(element) {
        var val = $('#' + element).val();
        var separator = " ";
        var return_val = val + separator;
        return return_val;
    }
    $('#input_number_card').keypress(function () {
        counter1++;
        if ((counter1 == 5) || (counter1 == 9) || (counter1 == 13)) {
            var new_value = addSeparator('input_number_card');
            $('#input_number_card').val(new_value);
        }
    });
    $('#input_expire_card').keypress(function () {
        counter2++;
        if (counter2 == 3) {
            var new_value = addSeparator('input_expire_card');
            $('#input_expire_card').val(new_value);
        }
    });

</script>